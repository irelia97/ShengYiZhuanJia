{"version":3,"sources":["./src/app/routes/forgot-password/forgot-password.page.html","./src/app/routes/forgot-password/forgot-password.module.ts","./src/app/routes/forgot-password/forgot-password.page.scss","./src/app/routes/forgot-password/forgot-password.page.ts"],"names":[],"mappings":"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","file":"routes-forgot-password-forgot-password-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n      <ion-buttons slot=\\\"start\\\">\\n        <ion-back-button text=\\\"Back\\\"></ion-back-button>\\n      </ion-buttons>\\n      <ion-title>Find PassWord</ion-title>\\n    </ion-toolbar>\\n    <ion-toolbar>\\n      1. Input email or tel> 2. Input Code>3. Reset PassWord\\n    </ion-toolbar>\\n  </ion-header>\\n  \\n  <ion-content padding>\\n    <ion-slides  #forgotPasswordSlides>\\n      <ion-slide>\\n          <form (ngSubmit)=\\\"onSendPhone()\\\" #forgotPasswordForm=\\\"ngForm\\\" novalidate>\\n            <ion-list>\\n              <ion-item>\\n                <ion-label position=\\\"fixed\\\">Email/Tel</ion-label>\\n                <ion-input name=\\\"forgotPhone\\\" type=\\\"text\\\" required [(ngModel)]=\\\"user.forgotPhone\\\"></ion-input>\\n              </ion-item>\\n              <div padding-horizontal>\\n                <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"forgotPasswordForm.invalid\\\">Git</ion-button>\\n              </div>\\n            </ion-list>\\n          </form>\\n      </ion-slide>\\n      <ion-slide>\\n        <form (ngSubmit)=\\\"onSendCode()\\\" #codeForm=\\\"ngForm\\\" novalidate>\\n          <ion-list>\\n            <ion-item>\\n              <ion-label position=\\\"fixed\\\">Code</ion-label>\\n              <ion-input name=\\\"code\\\" type=\\\"text\\\" required [(ngModel)]=\\\"user.code\\\"></ion-input>\\n            </ion-item>\\n            <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"codeForm.submitted\\\">\\n              <p [hidden]=\\\"codeIsRight\\\" padding-start>Your code is not right!</p>\\n            </ion-text>\\n            <div padding-horizontal>\\n              <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"codeForm.invalid\\\">Git</ion-button>\\n            </div>\\n          </ion-list>\\n        </form>\\n      </ion-slide>\\n      <ion-slide>\\n        <form (ngSubmit)=\\\"onSendPwd()\\\" #pwdForm=\\\"ngForm\\\" novalidate>\\n          <ion-list>\\n            <ion-item>\\n              <ion-label position=\\\"fixed\\\">User PassWord</ion-label>\\n              <ion-input name=\\\"pwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"user.pwd\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"fixed\\\">Confirm PassWord</ion-label>\\n              <ion-input name=\\\"cpwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"user.cpwd\\\"></ion-input>\\n            </ion-item>\\n            <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"pwdForm.submitted\\\">\\n              <p [hidden]=\\\"pwdIsSame\\\" padding-start>PassWord not Same</p>\\n            </ion-text>\\n            <div padding-horizontal>\\n              <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"pwdForm.invalid\\\">Git</ion-button>\\n            </div>\\n          </ion-list>\\n        </form>\\n      </ion-slide>\\n    </ion-slides>\\n  </ion-content>\\n  \"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ForgotPasswordPage } from './forgot-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ForgotPasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ForgotPasswordPage]\n})\nexport class ForgotPasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JvdXRlcy9mb3Jnb3QtcGFzc3dvcmQvZm9yZ290LXBhc3N3b3JkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthentiactionCodeService } from 'src/app/shared/services/authentiaction-code.service';\nimport { UserService } from 'src/app/shared/services/user-service.service';\nimport { ToastController, MenuController, AlertController, IonSlides } from '@ionic/angular';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.page.html',\n  styleUrls: ['./forgot-password.page.scss'],\n})\nexport class ForgotPasswordPage implements OnInit {\n    @ViewChild('forgotPasswordSlides', {static: false}) forgotPasswordSlides: IonSlides;\n    user = {\n      forgotPhone: '',\n      code: '',\n      pwd: '',\n      cpwd: ''\n    };\n    codeIsRight = true;\n    pwdIsSame = true;\n    constructor(private authenticationCodeService: AuthentiactionCodeService, private router: Router,\n                private userService: UserService, private toastController: ToastController,\n                private alertController: AlertController, private menuController: MenuController) { }\n    ngOnInit() {\n        //this.forgotPasswordSlides.lockSwipeToNext(true);\n    }\n    ionViewDidEnter() {\n        this.menuController.enable(false);\n    }\n    ionViewDidLeave() {\n        this.menuController.enable(true)\n    }\n    next() {\n        this.forgotPasswordSlides.lockSwipeToNext(false);\n        this.forgotPasswordSlides.slideNext();\n        this.forgotPasswordSlides.lockSwipeToNext(true);\n    }\n    previous() {\n        this.forgotPasswordSlides.lockSwipeToNext(false);\n        this.forgotPasswordSlides.slidePrev();\n        this.forgotPasswordSlides.lockSwipeToNext(true);\n    }\n    async onSendPhone() {\n      if (this.userService.check(this.user.forgotPhone)) {\n          this.authenticationCodeService.createCode(4);\n          this.next();\n      } else {\n          let toast = await this.toastController.create({\n              message: 'Tel not register!',\n              duration: 3000\n          });\n          toast.present();\n      }\n    }\n    onSendCode() {\n      if (this.authenticationCodeService.validate(this.user.code)) {\n        this.next();\n      } else {\n        // ��֤�����\n        this.codeIsRight = false;\n      }\n    }\n    async onSendPwd() {\n      if (this.user.pwd === this.user.cpwd) {\n          // ע��ɹ�����������\n          if (this.userService.update(this.user.forgotPhone, this.user.pwd)) {\n              let alert =await this.alertController.create({\n                  header: 'Tips',\n                  message: 'PassWord modify successful!',\n                  buttons: ['Confirm']\n              });\n              alert.present();\n              this.router.navigateByUrl('login');\n          }\n      } else {\n          this.pwdIsSame = false;\n      }\n    }\n}\n"],"sourceRoot":"webpack:///"}