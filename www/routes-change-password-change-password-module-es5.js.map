{"version":3,"sources":["src/app/routes/change-password/change-password.page.html","src/app/routes/change-password/change-password.module.ts","src/app/routes/change-password/change-password.page.scss","src/app/routes/change-password/change-password.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-title>修改密码</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  \\r\\n  <ion-content padding>\\r\\n    <form (ngSubmit)=\\\"onChangePwd()\\\" #changePwdForm=\\\"ngForm\\\" novalidate>\\r\\n      <ion-list>\\r\\n        <ion-item>\\r\\n          <ion-text>请输入旧密码</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"oldPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.old\\\" #oldPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-text>请输入新密码</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"newPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.new\\\" #newPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-text>请再输入一次</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"cNewPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.cNew\\\" #cNewPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"changePwdForm.submitted\\\">\\r\\n          <p [hidden]=\\\"samePwd\\\" padding-start>两次输入的密码不一致。</p>\\r\\n          <p [hidden]=\\\"oldIsRight\\\" padding-start>您输入的旧密码不正确。</p>\\r\\n        </ion-text>\\r\\n        <div padding-horizontal>\\r\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"changePwdForm.invalid\\\">下一步</ion-button>\\r\\n        </div>\\r\\n      </ion-list>\\r\\n    </form>\\r\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JvdXRlcy9jaGFuZ2UtcGFzc3dvcmQvY2hhbmdlLXBhc3N3b3JkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { LocalStorageService } from 'src/app/shared/services/local-storage.service';\nimport { UserService } from 'src/app/shared/services/user-service.service';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n})\nexport class ChangePasswordPage implements OnInit {\n    pwd = {\n        old: '',\n        new: '',\n        cNew: ''\n      };\n      oldIsRight = true;\n      samePwd = true;\n      constructor(private localStorageService: LocalStorageService, private userService: UserService,\n                  private router: Router, private alertController: AlertController) { }\n    \n      ngOnInit() {\n      }\n      async onChangePwd() {\n        let login = this.localStorageService.get('currentUser', null);\n        if (login.accounts.passwordToken == this.pwd.old) {\n            if( this.pwd.new == this.pwd.cNew ){\n                this.userService.update(login.phone, this.pwd.new);\n                login.accounts.passwordToken = this.pwd.new;\n                this.localStorageService.set('currentUser', login);\n                this.router.navigateByUrl('setting');\n                  let alert =await this.alertController.create({\n                      header: 'Tips',\n                      message: 'Password change successful',\n                      buttons: ['Confirm']\n                  });\n                  alert.present();\n            }else{\n                this.samePwd = false;\n            }\n        } else {\n            this.oldIsRight = false;\n        }\n      }\n}\n"],"sourceRoot":"webpack:///","file":"routes-change-password-change-password-module-es5.js"}