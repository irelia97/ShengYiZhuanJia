{"version":3,"sources":["./src/app/routes/change-password/change-password.page.html","./src/app/routes/change-password/change-password.module.ts","./src/app/routes/change-password/change-password.page.scss","./src/app/routes/change-password/change-password.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,ikD;;;;;;;;;;;;;;;;;;;;;;ACA0B;AACM;AACF;AACU;AAEV;AAEe;AAE5D,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,wEAAkB;KAC9B;CACF,CAAC;AAWF,IAAa,wBAAwB,GAArC,MAAa,wBAAwB;CAAG;AAA3B,wBAAwB;IATpC,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;SAC9B;QACD,YAAY,EAAE,CAAC,wEAAkB,CAAC;KACnC,CAAC;GACW,wBAAwB,CAAG;AAAH;;;;;;;;;;;;;ACzBrC;AAAe,6GAA8C,uK;;;;;;;;;;;;;;;;;;;;;ACAX;AACkC;AACT;AAClC;AACQ;AAOjD,IAAa,kBAAkB,GAA/B,MAAa,kBAAkB;IAQzB,YAAoB,mBAAwC,EAAU,WAAwB,EAC1E,MAAc,EAAU,eAAgC;QADxD,wBAAmB,GAAnB,mBAAmB,CAAqB;QAAU,gBAAW,GAAX,WAAW,CAAa;QAC1E,WAAM,GAAN,MAAM,CAAQ;QAAU,oBAAe,GAAf,eAAe,CAAiB;QAR9E,QAAG,GAAG;YACF,GAAG,EAAE,EAAE;YACP,GAAG,EAAE,EAAE;YACP,IAAI,EAAE,EAAE;SACT,CAAC;QACF,eAAU,GAAG,IAAI,CAAC;QAClB,YAAO,GAAG,IAAI,CAAC;IAEiE,CAAC;IAEjF,QAAQ;IACR,CAAC;IACK,WAAW;;YACf,IAAI,KAAK,GAAG,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;YAC9D,IAAI,KAAK,CAAC,QAAQ,CAAC,aAAa,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE;gBAC9C,IAAI,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE;oBAC/B,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACnD,KAAK,CAAC,QAAQ,CAAC,aAAa,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC;oBAC5C,IAAI,CAAC,mBAAmB,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;oBACnD,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC;oBACnC,IAAI,KAAK,GAAE,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;wBACzC,MAAM,EAAE,MAAM;wBACd,OAAO,EAAE,4BAA4B;wBACrC,OAAO,EAAE,CAAC,SAAS,CAAC;qBACvB,CAAC,CAAC;oBACH,KAAK,CAAC,OAAO,EAAE,CAAC;iBACrB;qBAAI;oBACD,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;iBACxB;aACJ;iBAAM;gBACH,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;aAC3B;QACH,CAAC;KAAA;CACN;;YA1B8C,iGAAmB;YAAuB,wFAAW;YAClE,sDAAM;YAA2B,8DAAe;;AATrE,kBAAkB;IAL9B,+DAAS,CAAC;QACT,QAAQ,EAAE,qBAAqB;QAC/B,8OAA0C;;KAE3C,CAAC;2EAS6C,iGAAmB,EAAuB,wFAAW;QAClE,sDAAM,EAA2B,8DAAe;GATrE,kBAAkB,CAkC9B;AAlC8B","file":"routes-change-password-change-password-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-title>修改密码</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  \\r\\n  <ion-content padding>\\r\\n    <form (ngSubmit)=\\\"onChangePwd()\\\" #changePwdForm=\\\"ngForm\\\" novalidate>\\r\\n      <ion-list>\\r\\n        <ion-item>\\r\\n          <ion-text>请输入旧密码</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"oldPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.old\\\" #oldPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-text>请输入新密码</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"newPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.new\\\" #newPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-text>请再输入一次</ion-text>\\r\\n        </ion-item>\\r\\n        <ion-item>\\r\\n          <ion-input name=\\\"cNewPwd\\\" type=\\\"password\\\" required [(ngModel)]=\\\"pwd.cNew\\\" #cNewPwd=\\\"ngModel\\\">\\r\\n          </ion-input>\\r\\n        </ion-item>\\r\\n        <ion-text text-left color=\\\"danger\\\" *ngIf=\\\"changePwdForm.submitted\\\">\\r\\n          <p [hidden]=\\\"samePwd\\\" padding-start>两次输入的密码不一致。</p>\\r\\n          <p [hidden]=\\\"oldIsRight\\\" padding-start>您输入的旧密码不正确。</p>\\r\\n        </ion-text>\\r\\n        <div padding-horizontal>\\r\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"changePwdForm.invalid\\\">下一步</ion-button>\\r\\n        </div>\\r\\n      </ion-list>\\r\\n    </form>\\r\\n  </ion-content>\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ChangePasswordPage } from './change-password.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ChangePasswordPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ChangePasswordPage]\n})\nexport class ChangePasswordPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JvdXRlcy9jaGFuZ2UtcGFzc3dvcmQvY2hhbmdlLXBhc3N3b3JkLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { LocalStorageService } from 'src/app/shared/services/local-storage.service';\nimport { UserService } from 'src/app/shared/services/user-service.service';\nimport { Router } from '@angular/router';\nimport { AlertController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-change-password',\n  templateUrl: './change-password.page.html',\n  styleUrls: ['./change-password.page.scss'],\n})\nexport class ChangePasswordPage implements OnInit {\n    pwd = {\n        old: '',\n        new: '',\n        cNew: ''\n      };\n      oldIsRight = true;\n      samePwd = true;\n      constructor(private localStorageService: LocalStorageService, private userService: UserService,\n                  private router: Router, private alertController: AlertController) { }\n    \n      ngOnInit() {\n      }\n      async onChangePwd() {\n        let login = this.localStorageService.get('currentUser', null);\n        if (login.accounts.passwordToken == this.pwd.old) {\n            if( this.pwd.new == this.pwd.cNew ){\n                this.userService.update(login.phone, this.pwd.new);\n                login.accounts.passwordToken = this.pwd.new;\n                this.localStorageService.set('currentUser', login);\n                this.router.navigateByUrl('setting');\n                  let alert =await this.alertController.create({\n                      header: 'Tips',\n                      message: 'Password change successful',\n                      buttons: ['Confirm']\n                  });\n                  alert.present();\n            }else{\n                this.samePwd = false;\n            }\n        } else {\n            this.oldIsRight = false;\n        }\n      }\n}\n"],"sourceRoot":"webpack:///"}