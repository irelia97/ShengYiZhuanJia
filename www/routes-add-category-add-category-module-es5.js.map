{"version":3,"sources":["src/app/routes/add-category/add-category.page.html","src/app/routes/add-category/add-category.module.ts","src/app/routes/add-category/add-category.page.scss","src/app/routes/add-category/add-category.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n    <ion-toolbar>\\r\\n      <ion-title *ngIf=\\\"id==0\\\">新增大分类</ion-title>\\r\\n      <ion-title *ngIf=\\\"id!=0\\\">新增小分类</ion-title>\\r\\n    </ion-toolbar>\\r\\n  </ion-header>\\r\\n  <ion-content padding>\\r\\n    <form (ngSubmit)=\\\"onSave()\\\" #addCategoryForm=\\\"ngForm\\\" novalidate>\\r\\n      <ion-list lines=\\\"none\\\">\\r\\n        <ion-item *ngIf=\\\"id==0\\\">\\r\\n          <ion-label position=\\\"fixed\\\">大分类</ion-label>\\r\\n          <ion-input name=\\\"name\\\" type=\\\"text\\\" placeholder=\\\"商品大分类名称\\\" [(ngModel)]=\\\"category.name\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item *ngIf=\\\"id!=0\\\">\\r\\n          <ion-text>{{name}}</ion-text>\\r\\n        </ion-item>\\r\\n        \\r\\n        <ion-item *ngFor=\\\"let c of children\\\">\\r\\n          <ion-label position=\\\"fixed\\\">小分类</ion-label>\\r\\n          <ion-input name=\\\"children{{c.id}}\\\" type=\\\"text\\\" placeholder=\\\"商品小分类名称\\\" [(ngModel)]=\\\"c.name\\\"></ion-input>\\r\\n        </ion-item>\\r\\n        <ion-item detail=\\\"false\\\" (click)=\\\"onAddSubCategory()\\\">\\r\\n          <ion-icon slot=\\\"start\\\" name='add-circle' color=\\\"primary\\\"></ion-icon>\\r\\n          <ion-label color=\\\"primary\\\">新增小分类</ion-label>\\r\\n        </ion-item>\\r\\n        <div padding-horizontal>\\r\\n          <ion-button type=\\\"submit\\\" expand=\\\"full\\\" color=\\\"primary\\\" [disabled]=\\\"addCategoryForm.invalid\\\">保存</ion-button>\\r\\n        </div>\\r\\n      </ion-list>\\r\\n    </form>\\r\\n  </ion-content>\\r\\n  \"","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { AddCategoryPage } from './add-category.page';\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddCategoryPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [AddCategoryPage]\r\n})\r\nexport class AddCategoryPageModule {}\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JvdXRlcy9hZGQtY2F0ZWdvcnkvYWRkLWNhdGVnb3J5LnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Category } from 'src/app/shared/category';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { CategoryService } from 'src/app/shared/services/category.service';\r\nimport { ToastController, AlertController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-add-category',\r\n  templateUrl: './add-category.page.html',\r\n  styleUrls: ['./add-category.page.scss'],\r\n})\r\nexport class AddCategoryPage implements OnInit {\r\n    id: number;\r\n    name: string;\r\n    children: Array<Category> = [];\r\n    category: Category = {\r\n        id: 0,\r\n        name: '',\r\n        children: []\r\n    };\r\n    increaseId = 1;\r\n    constructor(private activatedRoute: ActivatedRoute, private categoryService: CategoryService,\r\n                private toastController: ToastController, private alertController: AlertController,\r\n                private router: Router) {\r\n        activatedRoute.queryParams.subscribe(queryParams => {\r\n            this.id = queryParams.id;\r\n            this.name = queryParams.name;\r\n        });\r\n        const newChildren: Category = {\r\n                id: this.increaseId++,\r\n                name: '',\r\n                children: []\r\n            };\r\n        this.children.push(newChildren);\r\n    }\r\n  \r\n    ngOnInit() {\r\n    }\r\n    onAddSubCategory() {\r\n        const newChildren: Category = {\r\n            id: this.increaseId++,\r\n            name: '',\r\n            children: []\r\n        };\r\n        this.children.push(newChildren);\r\n    }\r\n    onSave() {\r\n        if (this.id == 0) {\r\n            this.onSavaAddCategory();\r\n        } else {\r\n            this.onSavaAddSubCategory();\r\n        }\r\n    }\r\n    async onSavaAddCategory() {\r\n        this.category.children = this.children;\r\n        if (this.categoryService.insert(this.category)) {\r\n            let alert = await this.alertController.create({\r\n                header: '提示',\r\n                message: '新增成功',\r\n                buttons: ['确定']\r\n            });\r\n            alert.present();\r\n            this.router.navigateByUrl('categoryList');\r\n        } else {\r\n            let toast = await this.toastController.create({\r\n                message: '请注意商品大类或者小类不能重复1！',\r\n                duration: 3000\r\n            });\r\n            toast.present();\r\n        }\r\n    }\r\n    async onSavaAddSubCategory() {\r\n        this.category.children = this.children;\r\n        this.category.id = this.id;\r\n        let data = await this.categoryService.insertSubCategory(this.category);\r\n       if (data.success) {\r\n           let alert = await this.alertController.create({\r\n               header: '提示',\r\n               message: '新增成功',\r\n               buttons: ['确定']\r\n           });\r\n           alert.present();\r\n           this.router.navigateByUrl('categoryList');\r\n       } else {\r\n           let toast = await this.toastController.create({\r\n               message: '请注意商品大类或者小类不能重复2！',\r\n               duration: 3000\r\n           });\r\n           toast.present();\r\n       }\r\n    }\r\n}\r\n"],"sourceRoot":"webpack:///","file":"routes-add-category-add-category-module-es5.js"}